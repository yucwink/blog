<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.20" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>kubernetes | blog</title><meta name="description" content="小七的博客"><link rel="stylesheet" href="/blog/assets/css/styles.360344f6.css"><link rel="preload" href="/blog/assets/js/runtime~app.f310a617.js" as="script"><link rel="preload" href="/blog/assets/css/styles.360344f6.css" as="style"><link rel="preload" href="/blog/assets/js/457.a685b9c4.js" as="script"><link rel="preload" href="/blog/assets/js/app.a1d75673.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-3ba327b4><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-19a51045></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-19a51045> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-3ba327b4 data-v-78e9ebd8><div class="vp-navbar" vp-navbar data-v-78e9ebd8 data-v-86b58b52><div class="wrapper" data-v-86b58b52><div class="container" data-v-86b58b52><div class="title" data-v-86b58b52><div class="vp-navbar-title" data-v-86b58b52 data-v-707513d4><a class="vp-link no-icon link title" href="/blog/" data-v-707513d4 data-v-30e58bde><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-51ceb2d1><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-51ceb2d1><!--]--><!--]--><!--]--><span data-v-707513d4 data-v-30e58bde-s>blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-86b58b52><div class="content-body" data-v-86b58b52><!--[--><!--]--><div class="vp-navbar-search search" data-v-86b58b52><div class="search-wrapper" data-v-7198ab44><!----><div id="local-search" data-v-7198ab44><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-7198ab44><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-86b58b52 data-v-23c350a1><span id="main-nav-aria-label" class="visually-hidden" data-v-23c350a1>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/tags/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/blog/archives/" tabindex="0" data-v-23c350a1 data-v-23195170 data-v-30e58bde><!--[--><!----><span data-v-23195170 data-v-30e58bde-s>归档</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group active" data-v-23c350a1 data-v-685caada><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-685caada><span class="text" data-v-685caada><!----><!----><span data-v-685caada>笔记</span><span class="vpi-chevron-down text-icon" data-v-685caada></span></span></button><div class="menu" data-v-685caada><div class="vp-menu" data-v-685caada data-v-395a8b11><div class="items" data-v-395a8b11><!--[--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/demo/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> 示例<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/article/ll4b5zvy/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> springboot<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link" href="/blog/article/njxyca7r/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> idea快捷键<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-395a8b11 data-v-6fa0db71><a class="vp-link no-icon link active" href="/blog/article/tyntnwpa/" data-v-6fa0db71 data-v-30e58bde><!--[--><!----> k8s概念<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-86b58b52 data-v-1038f173><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-1038f173 data-v-74f8b442 data-v-2b3ab441><span class="check" data-v-2b3ab441><span class="icon" data-v-2b3ab441><!--[--><span class="vpi-sun sun" data-v-74f8b442></span><span class="vpi-moon moon" data-v-74f8b442></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-86b58b52 data-v-948787e0 data-v-1a0ec42e><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-1a0ec42e data-v-ebc418bc><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-86b58b52 data-v-59d3f8bd data-v-685caada><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-685caada><span class="vpi-more-horizontal icon" data-v-685caada></span></button><div class="menu" data-v-685caada><div class="vp-menu" data-v-685caada data-v-395a8b11><!----><!--[--><!--[--><!----><div class="group" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="item appearance" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><p class="label" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s>外观</p><div class="appearance-action" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s data-v-74f8b442 data-v-2b3ab441><span class="check" data-v-2b3ab441><span class="icon" data-v-2b3ab441><!--[--><span class="vpi-sun sun" data-v-74f8b442></span><span class="vpi-moon moon" data-v-74f8b442></span><!--]--></span></span></button></div></div></div><div class="group" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="item social-links" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s><div class="vp-social-links social-links-list" data-v-59d3f8bd data-v-685caada-s data-v-395a8b11-s data-v-1a0ec42e><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-1a0ec42e data-v-ebc418bc><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-86b58b52 data-v-6a75553a><span class="container" data-v-6a75553a><span class="top" data-v-6a75553a></span><span class="middle" data-v-6a75553a></span><span class="bottom" data-v-6a75553a></span></span></button></div></div></div></div><div class="divider" data-v-86b58b52><div class="divider-line" data-v-86b58b52></div></div></div><!----></header><!----><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-3ba327b4 data-v-6298fb78><div class="vp-doc-container has-aside" data-v-6298fb78 data-v-14cd4478><!--[--><!--]--><div class="container" data-v-14cd4478><div class="aside" vp-outline data-v-14cd4478><div class="aside-curtain" data-v-14cd4478></div><div class="aside-container" data-v-14cd4478><div class="aside-content" data-v-14cd4478><div class="vp-doc-aside" data-v-14cd4478 data-v-3db40e98><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-3db40e98 data-v-1bcf17d1><div class="content" data-v-1bcf17d1><div class="outline-marker" data-v-1bcf17d1></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-1bcf17d1><span data-v-1bcf17d1>此页内容</span><span class="vpi-print icon" data-v-1bcf17d1></span></div><ul class="root" data-v-1bcf17d1 data-v-e37709d0><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3db40e98></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-14cd4478><div class="content-container" data-v-14cd4478><!--[--><!--]--><main class="main" data-v-14cd4478><!----><!--[--><h1 class="vp-doc-title page-title" data-v-02188e20>kubernetes <!----></h1><div class="vp-doc-meta" data-v-02188e20><p class="reading-time" data-v-02188e20><span class="vpi-books icon" data-v-02188e20></span><span data-v-02188e20>约 790 字</span><span data-v-02188e20>大约 3 分钟</span></p><!----><p class="create-time" data-v-02188e20><span class="vpi-clock icon" data-v-02188e20></span><span data-v-02188e20>2025-05-14</span></p></div><!--]--><div class="_article_tyntnwpa_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-14cd4478><div data-v-14cd4478><p>高可用：自动重启 自动修复</p><p>可扩展性：根据负载变化动态改变资源</p><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h2><h3 id="_1-node-节点或者物理机" tabindex="-1"><a class="header-anchor" href="#_1-node-节点或者物理机"><span>1.node-节点或者物理机</span></a></h3><ul><li><p>Node是一个运行着Kubernetes节点软件的物理机器或虚拟机。</p></li><li><p>Node是Kubernetes集群中的工作节点， 它实际执行应用程序工作负载并提 供运行环境。</p></li></ul><h3 id="_2-pod-最小调度单元-容器的抽象" tabindex="-1"><a class="header-anchor" href="#_2-pod-最小调度单元-容器的抽象"><span>2.pod-最小调度单元，容器的抽象</span></a></h3><ul><li><p>Pod 是 Kubernetes中最小的可部署单元</p></li><li><p>一个 Pod 可以包含一个或多个紧密关联的容器，它们共享相同的网络命名空间、 IP 地址和存储卷， 并在同一个宿主机上运行。</p><p>pod发生故障k8s自动销毁，创建新的pod替代 但是ip会变化，此时需要service</p></li></ul><h3 id="_3-service-将一组pod封装成一个服务-并提供统一入口访问" tabindex="-1"><a class="header-anchor" href="#_3-service-将一组pod封装成一个服务-并提供统一入口访问"><span>3.service-将一组pod封装成一个服务，并提供统一入口访问</span></a></h3><ul><li><p>Service 是将运行在一个或一组 Pod 上的网络应用程序公开为网络服务的方法。</p></li><li><p>实现方式，将应用程序的pod封装成两个service，这样可以通过service的ip地址访问该应用，即使pod的ip地址发生变化，但是service的地址并不会变化。service自动将请求转发到其他健康的pod上，这样解决了pod的ip地址不稳定问题</p></li></ul><h4 id="内部服务和外部服务" tabindex="-1"><a class="header-anchor" href="#内部服务和外部服务"><span>内部服务和外部服务</span></a></h4><p>内部：集群内布服务 mysql 缓存 消息队列</p><p>外部：暴露给外部 前端程序</p><ul><li>node:port 再节点上开放一个端口，将这个端口映射到Service的IP地址和端口上，通过节点的ip地址和端口访问service</li></ul><h3 id="_4-ingress-将外部请求转发到内部的集群和service上" tabindex="-1"><a class="header-anchor" href="#_4-ingress-将外部请求转发到内部的集群和service上"><span>4.ingress-将外部请求转发到内部的集群和service上</span></a></h3><p>在生产上用域名 使用ingress,用来管理从集群外部访问集群内部服务的入口和方式，通过ingress配置不同的转发规则，根据不同的规则访问不同的service和对应的pod 还可以给ingress配置域名、负载均衡等</p><h3 id="_5-configmap-配置信息" tabindex="-1"><a class="header-anchor" href="#_5-configmap-配置信息"><span>5.configMap-配置信息</span></a></h3><p>将配置信息封装起来，让应用可以读取configMap中的配置信息</p><p>配置需要调整，修改configMap重新加载pod即可 应用程序和配置的解耦 但是明文存储</p><h3 id="_6-sercet-铭感信息" tabindex="-1"><a class="header-anchor" href="#_6-sercet-铭感信息"><span>6.sercet-铭感信息</span></a></h3><p>做了base64编码</p><p>还需配合其它安全机制，例如网络安全、访问控制、身份认证</p><h3 id="_7-volumes-数据挂载-实现集群中数据的持久化部署" tabindex="-1"><a class="header-anchor" href="#_7-volumes-数据挂载-实现集群中数据的持久化部署"><span>7.Volumes-数据挂载，实现集群中数据的持久化部署</span></a></h3><p>将持久化数据挂载到本地的磁盘或者集群外部的远程存储上，即使容器被销毁和重启，数据仍不会消失</p><h3 id="_8-deployment-部署无状态应用程序" tabindex="-1"><a class="header-anchor" href="#_8-deployment-部署无状态应用程序"><span>8.deployment-部署无状态应用程序</span></a></h3><p>解决当一个节点故障时，service自动将请求转发到另外的节点上来提供服务</p><p>定义和管理应用程序的副本数量和应用程序的更新策略（滚动更新，例如版本升级策略）</p><h3 id="_9-statefulset-部署有状态应用程序" tabindex="-1"><a class="header-anchor" href="#_9-statefulset-部署有状态应用程序"><span>9.StatefulSet-部署有状态应用程序</span></a></h3><p>因为数据库的多副本之前是有状态的，所以使用StatefulSet</p><p>有状态和保留应用状态的一般使用这个</p></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-14cd4478 data-v-0b14975e><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-0b14975e><span class="contributors-label" data-v-0b14975e>贡献者: </span><span class="contributors-info" data-v-0b14975e><!--[--><!--[--><span class="contributor" data-v-0b14975e>yuc</span><!----><!--]--><!--]--></span></div><!----></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-3ba327b4 data-v-5084fd18><span class="percent" data-allow-mismatch data-v-5084fd18>0%</span><span class="show icon vpi-back-to-top" data-v-5084fd18></span><svg aria-hidden="true" data-v-5084fd18><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-5084fd18></circle></svg></button><footer class="vp-footer" vp-footer data-v-3ba327b4 data-v-47075d85><!--[--><div class="container" data-v-47075d85><p class="message" data-v-47075d85>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script src="/blog/assets/js/runtime~app.f310a617.js" defer></script><script src="/blog/assets/js/457.a685b9c4.js" defer></script><script src="/blog/assets/js/app.a1d75673.js" defer></script></body></html>